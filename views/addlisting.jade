extends layout

block content
  .container
    form.form-new-listing.border.shadow-sm.rounded.p-5.bg-white.mt-3(role='form', action="/listings/new", method="post", enctype="multipart/form-data")
      h2.form-signin-heading Add New Listing
      .row.justify-content-center
        .col
          .form-group
            label(for="shortdesc") Title 
            input.form-control(type='text', name="listing[shortdesc]", id="shortdesc", placeholder='Title')
          .form-group
            label(for="longdesc") Description 
            textarea.form-control(type='textarea', rows="5", name="listing[longdesc]", id="longdesc", placeholder='Description')
          .form-group
            label(for="price") Price 
            input.form-control(type='number', name="listing[price]", id="price", placeholder='0.00')
        .col
          .form-group
            label(for="address") Address 
            input.form-control(type='text', name="listing[address]", id="address", placeholder='Address')
          .form-group
            label(for="tags") Tags 
            input.form-control(type='text', name="listing[tags]", id="tags", placeholder='tag1,tag2')
          .form-group
            label(for="file") Image 
            .custom-file.mb-3 
              input.custom-file-input(type='file', name="file", id="file")
              label.custom-file-label(for="file") Choose Image
      .row.justify-content-end
        .col
          .form-group
            button.btn.btn-primary(type='submit') Post Listing
  script.
    $('#file').on('change',function(){
        //get the file name
        var fileName = $(this).val().replace("C:\\fakepath\\", "");
        //replace the "Choose a file" label
        $(this).next('.custom-file-label').html(fileName);
    });
